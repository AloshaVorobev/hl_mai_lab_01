# Лабораторная работа №1 #

Выполнил: Воробьев Алексей, М8О-103М-20

## Сборка проекта ##

```bash
cmake configure .
cmake .
cmake --build ./
```

## Настройка базы данных ##

1. Для создания тестового пользователя с именем laba и базы данных itlabs с необходимой таблицей Person необходимо выполнить команды из файла db_scripts/db_creation.sql.
2. Скрипт заполнения базы данных сгенерированными записями (100 тысяч строк) записан в файле db_scripts/data_generation.sql.

Выполнение скрипта из файла:

```bash
source <имя файла>.sql;
```

## Запуск сервера ##

Для запуска сервера следует выполнить команду:

```bash
sudo sh ./start.sh
```

Сервер работает на порту 8080.

## Тестирование с помощью gtest ##

Запуск модульных тестов осуществляется командой:

```bash
./gtests
```

## Тестирование с помощью wrk ##

Нагрузочное тестирование производилось для 1, 2, 6 и 10 потоков при 50 подключениях в течение 30 секунд.

```bash
wrk -t 2 -c 50 -d 30s http://192.168.31.116:8080/person?login=585-20-1750
```

Полученные данные (Requests/sec - количество запросов в секунду, Latency(ms) - задержка в миллисекундах):

Threads | Requests/sec | Latency(ms)
---     | ---          | ---
1       | 169.13       | 94.86
2       | 93.24        | 87.64
6       | 45.44        | 88.82
10      | 44.55        | 90.84
